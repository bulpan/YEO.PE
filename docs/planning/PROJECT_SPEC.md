# 프로젝트 기획서 (Updated 2026-01-11)

# 📱 YEO.PE : 블루투스 기반 휘발성 근거리 채팅 서비스

---

## 1. 서비스 개요

**서비스명:** YEO.PE  
**핵심 개념:**  
GPS 없이 **블루투스 신호(BLE)** 를 이용해 실제 가까이 있는 사람들과  
가볍게 연결하고, 휘발성 그룹채팅을 즐길 수 있는 **근거리 SNS**  

**슬로건:**  
> “지금, 진짜 내 주변 사람들과 연결되다.”

---

## 2. 서비스 콘셉트

### 🎯 서비스 목적
- 위치기반이 아닌 **실제 근접성 기반**의 새로운 SNS 형태
- **익명성(Mask)** 과 **휘발성(Ephemeral)** 을 통한 부담 없는 소통
- **안전함(Safety)**: 신고 즉시 차단, 상호 투명인간화 정책 적용

### 🌍 주요 활용 시나리오
- **지하철/기차/버스** 에서 근처 사람들과 대화  
- **행사장/페스티벌/공연장** 에서 같은 관심사 사람들과 연결  
- **카페/도서관/회사 휴게실** 등 일상 공간에서 즉흥적 대화  

---

## 3. 핵심 정책 & 기능 (Current Status)

### 🎭 아이덴티티 시스템 (Dual Identity)
| 구분 | 설명 | 특징 |
|------|------|------|
| **가면 (Mask)** | `Anon#A1B2C3` 형태의 랜덤 ID | 기본값. 누구나 처음엔 가면을 씀. 익명성 보장. |
| **닉네임 (Persona)** | 사용자가 직접 설정한 이름 | 가면을 벗고 '나'를 드러냄. 언제든 다시 가면으로 돌아갈 수 있음 (`새 가면` 기능). |

*   **새 가면 (New Mask) 기능**: 버튼 하나로 현재의 모든 채팅방에서 퇴장하고, 새로운 랜덤 ID와 아바타로 다시 태어남. (신분 세탁)

### 🛡 안전 & 차단 정책 (Safety First)
| 정책명 | 내용 | 비고 |
|--------|------|------|
| **상호 투명인간 (Mutual Invisibility)** | 차단 시, 내 레이더에서 상대가 사라질 뿐만 아니라, **상대방 레이더에서도 내가 사라짐.** | BLE 스캔 레벨에서 원천 차단. |
| **신고 즉시 차단 (Report = Block)** | 사용자를 신고하면 **자동으로 차단** 처리됨. | 2차 가해 방지. |
| **삼진아웃 (3-Strike Auto Ban)** | 24시간 내 **3회 이상** 신고 접수 시, 시스템이 **자동으로 24시간 계정 정지** 처분. | 커뮤니티 자정 작용. |
| **관리자 개입** | 관리자는 신고 내역을 검토하여 **'신고 철회(Reset)'** 하거나 **'정지 해제(Unsuspend)'** 가능. | 억울한 제재 구제. |

### 👻 프라이버시 & 휘발성
- **24시간 자동 삭제**: 모든 대화와 방은 생성 24시간 후 완전히 삭제됨 (DB/Redis).
- **거리 이탈 시 퇴장**: BLE 신호가 끊어지면 일정 시간 후 방에서 자동 퇴장 처리 (옵션).

---

## 4. 기술 아키텍처

### ⚙️ 주요 기술 스택
- **Client**: iOS (SwiftUI, CoreBluetooth), Android (Kotlin, BLE)
- **Server**: Node.js, Express, Socket.io (Real-time)
- **Database**: PostgreSQL (User/Data), Redis (Pub/Sub, TTL Session)
- **Infra**: Docker, Oracle Cloud

---

## 5. 개발 진행 상황 (Updated)

### ✅ 완료된 기능
- **핵심 코어**: 회원가입/로그인 (Email, Social), 실시간 채팅, 방 생성/참여
- **BLE 탐색**: 주변 사용자 스캔, RSSI 거리 계산, 신호 기반 방 추천
- **이미지**: 프로필/채팅 이미지 업로드 (업로드 즉시 리사이징)
- **관리자 도구**: 대시보드(통계), 사용자 관리(정지/해제/신고철회)
- **정책 구현**: 신고/차단/자동정지, 닉네임 마스킹 로직
- **알림**: FCM 푸시 알림 (근처 사용자 감지, 채팅 수신)

### � 향후 고도화 예정
- **메시지 암호화**: End-to-End Encryption 검토
- **비콘 연동**: 오프라인 매장 프로모션

---

## 6. 런칭 시 예상되는 주요 이슈 및 대응책 (Pain Points Analysis)

서비스 오픈 시 예상되는 사용자들의 불편함(Unmet Needs)과 이에 대한 시스템적/운영적 대응 방안입니다.

### 1️⃣ "주변에 아무도 없어요" (Empty Room Problem)
*   **상황**: 초기 사용자 부족으로 인해 레이더가 항상 비어 있음. 앱 삭제의 주 원인.
*   **대응책 (System)**: 
    *   **백그라운드 감지 알림**: 앱을 켜두지 않아도 주변에 누군가 나타나면 푸시 알림 발송 ("지금 주변에 1명이 있습니다!").
    *   **온보딩 교육**: "사람이 많은 곳(카페, 지하철)에서 켜보세요"라고 가이드.

### 2️⃣ "대화 내역이 사라졌어요" (Ephemeral Shock)
*   **상황**: 중요한 정보를 교환했는데 24시간이 지나 방이 폭파됨.
*   **대응책 (UX)**: 
    *   **카운트다운 UI**: 방 목록이나 상단에 '남은 시간'을 명확히 표시.
    *   **저장 경고**: "사진이나 연락처는 미리 저장하세요" 툴팁 제공.

### 3️⃣ "새 가면을 썼더니 친구를 잃어버렸어요" (Identity Reset)
*   **상황**: '새 가면' 기능이 단순히 닉네임 변경인 줄 알고 눌렀다가, 모든 방에서 나가짐.
*   **대응책 (UX)**: 
    *   **강력한 경고 팝업**: "모든 방에서 퇴장하며 되돌릴 수 없습니다"라는 문구와 함께 [취소/확인] 버튼 제공. (현재 적용됨)

### 4️⃣ "억울하게 정지당했어요" (Abuse of Report)
*   **상황**: 악의적인 그룹이 좌표를 찍고 신고하여 자동 정지(Auto-Ban)를 유도.
*   **대응책 (Admin)**: 
    *   **신고 내역 상세 확인**: 관리자 대시보드에서 신고 사유/시간 패턴 확인.
    *   **신고 철회(Clear Reports) 기능**: 악의적 신고로 판명될 경우, 관리자가 신고 카운트를 0으로 초기화하여 구제.

### 5️⃣ "차단했는데도 계속 보여요 (왜?)" (Block Evasion)
*   **상황**: 차단당한 사용자가 앱을 삭제하고 재설치하여(새 계정) 다시 접근.
*   **대응책 (Limitation)**: 
    *   현재 구조(User ID 차단)로는 계정을 새로 파면 막을 수 없음.
    *   **향후 고도화**: 기기 고유값(UUID/IDFV)을 서버에 해싱하여 저장 후, 계정이 달라도 기기가 같으면 가입/접근을 막는 **Device Ban** 도입 필요.

---

## 7. 결론

YEO.PE는 **"연결의 가벼움"**을 지향하지만, 그로 인한 **"관계의 안전함"**을 기술적으로 보장하는 것이 핵심입니다. 
'새 가면'과 '상호 투명인간' 정책은 사용자가 언제든 관계를 리셋할 수 있는 권력을 쥐어주며, 이는 역설적으로 더 솔직하고 부담 없는 소통을 가능하게 할 것입니다.
